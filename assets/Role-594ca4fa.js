import{z as e,d as t,q as a,e as l,F as o,r as s,o as r,c as i,w as m,a as u,f as p,B as n,t as d,i as c,R as _,M as f,k as j}from"./index-69408057.js";import{u as v}from"./useTable-6bd88242.js";import{_ as y}from"./Table.vue_vue_type_script_lang-8a0d3155.js";import{E as b}from"./el-button-15b7c91f.js";import{E as g}from"./el-tag-ea624222.js";import{_ as x}from"./Search.vue_vue_type_script_setup_true_lang-0980fd11.js";import{_ as D}from"./ContentWrap.vue_vue_type_script_setup_true_lang-fa85e763.js";import{_ as w}from"./Write.vue_vue_type_script_setup_true_lang-3038604d.js";import{_ as k}from"./Dialog.vue_vue_type_style_index_0_lang-fe21049f.js";import"./el-message-box-b134f776.js";import"./el-input-b7d095a0.js";import"./use-form-item-9eaef25e.js";import"./constants-0a7e98c8.js";import"./use-form-common-props-9244f2a0.js";import"./el-popper-c9fec1ed.js";import"./el-overlay-32a1ff02.js";import"./tsxHelper-8cb60c66.js";import"./debounce-e9201f72.js";import"./vnode-0120c115.js";import"./aria-ecee1d93.js";import"./el-image-viewer-5fca2747.js";import"./el-dropdown-item-f00169f4.js";import"./refs-0c69b55e.js";import"./Form-3ffbd259.js";import"./el-col-a139f57d.js";import"./el-input-number-88a61b8f.js";import"./el-divider-9e019707.js";import"./InputPassword-844ad265.js";import"./style.css_vue_type_style_index_0_src_true_lang-524c8797.js";import"./index-c4d709dc.js";import"./useForm-40c805c0.js";import"./useIcon-75b77a4a.js";import"./el-card-4e55bb5e.js";import"./useValidator-eef5f85d.js";import"./index-da261c54.js";import"./tree-b59d36bb.js";const h={class:"mb-10px"};function R(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!f(e)}const C=t({__name:"Role",setup(t){const{t:f}=j(),{tableRegister:C,tableState:T,tableMethods:V}=v({fetchDataApi:async()=>{const t=await e.get({url:"/role/table"});return{list:t.data.list||[],total:t.data.total}}}),{dataList:N,loading:S,total:E}=T,{getList:F}=V,I=a([{field:"index",label:f("userDemo.index"),type:"index"},{field:"roleName",label:f("role.roleName")},{field:"role",label:f("role.role")},{field:"status",label:f("menu.status"),slots:{default:e=>l(o,null,[l(g,{type:0===e[0].row.status?"danger":"success"},{default:()=>[1===e[0].row.status?f("userDemo.enable"):f("userDemo.disable")]})])}},{field:"createTime",label:f("tableDemo.displayTime")},{field:"remark",label:f("userDemo.remark")},{field:"action",label:f("userDemo.action"),width:240,slots:{default:e=>{let t,a;const s=e[0].row;return l(o,null,[l(b,{type:"primary",onClick:()=>J(s,"edit")},R(t=f("exampleDemo.edit"))?t:{default:()=>[t]}),l(b,{type:"danger"},R(a=f("exampleDemo.del"))?a:{default:()=>[a]})])}}}]),A=a([{field:"roleName",label:f("role.roleName"),component:"Input"}]),B=s({}),L=e=>{B.value=e,F()},M=s(!1),O=s(""),W=s(),q=s(""),z=s(),H=s(!1),J=(e,t)=>{O.value=f("edit"===t?"exampleDemo.edit":"exampleDemo.detail"),q.value=t,W.value=e,M.value=!0},P=()=>{O.value=f("exampleDemo.add"),W.value=void 0,M.value=!0,q.value=""},U=async()=>{const e=u(z);await(null==e?void 0:e.submit())&&(H.value=!0,setTimeout((()=>{H.value=!1,M.value=!1}),1e3))};return(e,t)=>(r(),i(o,null,[l(u(D),null,{default:m((()=>[l(u(x),{schema:A,onReset:L,onSearch:L},null,8,["schema"]),p("div",h,[l(u(b),{type:"primary",onClick:P},{default:m((()=>[n(d(u(f)("exampleDemo.add")),1)])),_:1})]),l(u(y),{columns:I,"default-expand-all":"","node-key":"id",data:u(N),loading:u(S),pagination:{total:u(E)},onRegister:u(C)},null,8,["columns","data","loading","pagination","onRegister"])])),_:1}),l(u(k),{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=e=>M.value=e),title:O.value},{footer:m((()=>["detail"!==q.value?(r(),c(u(b),{key:0,type:"primary",loading:H.value,onClick:U},{default:m((()=>[n(d(u(f)("exampleDemo.save")),1)])),_:1},8,["loading"])):_("",!0),l(u(b),{onClick:t[0]||(t[0]=e=>M.value=!1)},{default:m((()=>[n(d(u(f)("dialogDemo.close")),1)])),_:1})])),default:m((()=>["detail"!==q.value?(r(),c(w,{key:0,ref_key:"writeRef",ref:z,"current-row":W.value},null,8,["current-row"])):_("",!0)])),_:1},8,["modelValue","title"])],64))}});export{C as default};
