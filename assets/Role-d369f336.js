import{z as e,d as t,q as a,e as l,F as o,r as s,o as r,c as i,w as m,a as u,f as p,B as n,t as d,i as c,R as _,M as f,k as j}from"./index-10360f2b.js";import{u as v}from"./useTable-9a28e1f9.js";import{_ as y}from"./Table.vue_vue_type_script_lang-a0e77d97.js";import{E as b}from"./el-button-481782c7.js";import{E as g}from"./el-tag-6eeffad4.js";import{_ as x}from"./Search.vue_vue_type_script_setup_true_lang-28bdc28c.js";import{_ as D}from"./ContentWrap.vue_vue_type_script_setup_true_lang-d9b51882.js";import{_ as w}from"./Write.vue_vue_type_script_setup_true_lang-585fe23c.js";import{_ as k}from"./Dialog.vue_vue_type_style_index_0_lang-8bfd2a67.js";import"./el-message-box-36f6d48f.js";import"./el-input-ebeda538.js";import"./use-form-item-b8fb3153.js";import"./constants-c7168287.js";import"./use-form-common-props-3806ddfa.js";import"./el-popper-b12b54b2.js";import"./el-overlay-da6987bb.js";import"./tsxHelper-459740a4.js";import"./debounce-68453f2e.js";import"./vnode-91c20eac.js";import"./aria-ecee1d93.js";import"./el-image-viewer-2ab8eb85.js";import"./el-dropdown-item-5d94bbce.js";import"./refs-31d6a243.js";import"./Form-be9580cb.js";import"./el-col-17e6ca24.js";import"./el-input-number-32d92504.js";import"./el-divider-23165f8d.js";import"./InputPassword-0102a3db.js";import"./style.css_vue_type_style_index_0_src_true_lang-68cfc7bb.js";import"./index-36cedef7.js";import"./useForm-6ab72f3c.js";import"./useIcon-545b34e6.js";import"./el-card-cbeb4f64.js";import"./useValidator-3f79ae4e.js";import"./index-5a2e48af.js";import"./tree-b59d36bb.js";const h={class:"mb-10px"};function R(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!f(e)}const C=t({__name:"Role",setup(t){const{t:f}=j(),{tableRegister:C,tableState:T,tableMethods:V}=v({fetchDataApi:async()=>{const t=await e.get({url:"/role/table"});return{list:t.data.list||[],total:t.data.total}}}),{dataList:N,loading:S,total:E}=T,{getList:F}=V,I=a([{field:"index",label:f("userDemo.index"),type:"index"},{field:"roleName",label:f("role.roleName")},{field:"role",label:f("role.role")},{field:"status",label:f("menu.status"),slots:{default:e=>l(o,null,[l(g,{type:0===e[0].row.status?"danger":"success"},{default:()=>[1===e[0].row.status?f("userDemo.enable"):f("userDemo.disable")]})])}},{field:"createTime",label:f("tableDemo.displayTime")},{field:"remark",label:f("userDemo.remark")},{field:"action",label:f("userDemo.action"),width:240,slots:{default:e=>{let t,a;const s=e[0].row;return l(o,null,[l(b,{type:"primary",onClick:()=>J(s,"edit")},R(t=f("exampleDemo.edit"))?t:{default:()=>[t]}),l(b,{type:"danger"},R(a=f("exampleDemo.del"))?a:{default:()=>[a]})])}}}]),A=a([{field:"roleName",label:f("role.roleName"),component:"Input"}]),B=s({}),L=e=>{B.value=e,F()},M=s(!1),O=s(""),W=s(),q=s(""),z=s(),H=s(!1),J=(e,t)=>{O.value=f("edit"===t?"exampleDemo.edit":"exampleDemo.detail"),q.value=t,W.value=e,M.value=!0},P=()=>{O.value=f("exampleDemo.add"),W.value=void 0,M.value=!0,q.value=""},U=async()=>{const e=u(z);await(null==e?void 0:e.submit())&&(H.value=!0,setTimeout((()=>{H.value=!1,M.value=!1}),1e3))};return(e,t)=>(r(),i(o,null,[l(u(D),null,{default:m((()=>[l(u(x),{schema:A,onReset:L,onSearch:L},null,8,["schema"]),p("div",h,[l(u(b),{type:"primary",onClick:P},{default:m((()=>[n(d(u(f)("exampleDemo.add")),1)])),_:1})]),l(u(y),{columns:I,"default-expand-all":"","node-key":"id",data:u(N),loading:u(S),pagination:{total:u(E)},onRegister:u(C)},null,8,["columns","data","loading","pagination","onRegister"])])),_:1}),l(u(k),{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=e=>M.value=e),title:O.value},{footer:m((()=>["detail"!==q.value?(r(),c(u(b),{key:0,type:"primary",loading:H.value,onClick:U},{default:m((()=>[n(d(u(f)("exampleDemo.save")),1)])),_:1},8,["loading"])):_("",!0),l(u(b),{onClick:t[0]||(t[0]=e=>M.value=!1)},{default:m((()=>[n(d(u(f)("dialogDemo.close")),1)])),_:1})])),default:m((()=>["detail"!==q.value?(r(),c(w,{key:0,ref_key:"writeRef",ref:z,"current-row":W.value},null,8,["current-row"])):_("",!0)])),_:1},8,["modelValue","title"])],64))}});export{C as default};
